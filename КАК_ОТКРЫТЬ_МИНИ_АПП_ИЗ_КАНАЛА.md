# Как сделать, чтобы из канала открывался именно мини-апп (а не браузер)

Пошаговая инструкция для канала **@travelplusbiz** и бота **@travelplus_shop_bot**.

---

## Важно понять

- **Мини-апп** = открывается внутри Telegram (окно «Открывая это мини-приложение…» → «Запустить» → каталог в Telegram).
- **Ссылка в браузере** = открывается сайт в Safari/Chrome или во встроенном браузере Telegram.

Чтобы открывался **именно мини-апп**, пользователь должен нажать **специальную ссылку на бота**, а не прямую ссылку на сайт.

---

## Часть 1. Проверка: бот настроен в BotFather

Без этого мини-апп из канала не откроется.

1. Открой Telegram → **@BotFather**.
2. Отправь: **`/mybots`**
3. Выбери бота **@travelplus_shop_bot**.
4. Нажми **«Bot Settings»** → **«Menu Button»** → **«Configure menu button»**.
5. Должен быть указан **URL твоего сайта** (например `https://travelplus-miniapp.vercel.app`), не ссылка t.me.
6. Текст кнопки: **«Каталог»** (или любой).

Если там другой URL или кнопка не настроена — заново введи URL сайта (Vercel) и текст «Каталог». Сохрани.

**Проверка:** зайди в чат с **@travelplus_shop_bot** → внизу должна быть кнопка «Каталог» → нажал → окно «Открывая это мини-приложение…» → «Запустить» → открывается каталог. Если так — часть 1 выполнена.

---

## Часть 2. Ссылка на мини-апп (одна на всё)

Эту ссылку нужно дать подписчикам канала. По ней открывается **именно мини-апп**:

```
https://t.me/travelplus_shop_bot/app
```

Не меняй: без `https://`, без лишнего слэша, без пробелов. Скопируй строку выше.

---

## Часть 3. Как добавить эту ссылку в канал

В канале **кнопка под постом** иногда не принимает ссылку `t.me` (пишет «Please send me a valid URL»). Поэтому используй **ссылку в тексте поста** — так почти всегда открывается мини-апп.

### Способ А. Ссылка в тексте поста (рекомендуется)

1. Открой канал **@travelplusbiz** (под аккаунтом админа).
2. Нажми **«Написать»** / создай новый пост.
3. В **тексте поста** напиши, например:
   ```
   Каталог Трэвел+ — тапочки, косметика, аксессуары.
   Откройте каталог по ссылке: https://t.me/travelplus_shop_bot/app
   ```
   Или короче:
   ```
   Открыть каталог: https://t.me/travelplus_shop_bot/app
   ```
4. Ссылку вставь **целиком**, одной строкой. Telegram сам сделает её синей и кликабельной.
5. **Не добавляй** кнопку под постом (или добавь с любой другой ссылкой — не обязательно).
6. Опубликуй пост.
7. По желанию **закрепи** этот пост (долгое нажатие → «Закрепить»), чтобы он был всегда сверху.

**Проверка:** открой канал (можно с другого аккаунта), нажми на синюю ссылку в посте. Должно появиться окно «Открывая это мини-приложение…» → «Запустить» → каталог внутри Telegram.

---

### Способ Б. Кнопка под постом (если примет ссылку)

1. Создай пост в канале **@travelplusbiz**.
2. В тексте напиши что угодно (например: «Откройте каталог по кнопке ниже»).
3. Найди **«Добавить кнопку»** / «Add link» / иконку ссылки **под** текстом поста.
4. Текст кнопки: **Каталог** или **Открыть каталог**.
5. В поле **ссылки** вставь ровно:
   ```
   https://t.me/travelplus_shop_bot/app
   ```
   Обязательно с **https://** в начале, без пробелов.
6. Сохрани и опубликуй пост.

Если Telegram напишет «Please send me a valid URL. https is required» — не используй кнопку для этой ссылки, используй **способ А** (ссылка в тексте).

---

## Часть 4. Что не делать

- **Не** ставь в канале (ни в тексте, ни в кнопке) прямую ссылку на сайт вида  
  `https://travelplus-miniapp.vercel.app`  
  — по ней откроется сайт в браузере/встроенном окне, а не мини-апп с окном «Открывая это мини-приложение…».

- В канале для открытия **именно мини-аппа** должна быть ссылка:  
  **https://t.me/travelplus_shop_bot/app**

---

## Кратко

| Цель | Что сделать |
|------|-------------|
| Открывался мини-апп из канала | В посте канала дать ссылку **https://t.me/travelplus_shop_bot/app** (лучше в тексте поста). |
| Не открывался в браузере | Не использовать в канале ссылку на travelplus-miniapp.vercel.app. |
| Кнопка не принимает ссылку | Добавить ссылку **в текст поста** (способ А). |

Если после этого по ссылке из канала всё равно открывается браузер — напиши, с телефона или с компьютера открываешь и что именно видишь (полный адрес в браузере, если виден).
